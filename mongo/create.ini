use billing;
db.createCollection('log');
db.createCollection('lines');
db.createCollection('billrun');
db.createCollection('accounts');
// Add indecies to insure that theres no duplicate lines.
db.lines.ensureIndex({'stamp': 1 }, { unique: true });
db.log.ensureIndex({'stamp': 1 },  { unique: true });

// Add indecies to  increase access speeds to lines collection.
db.lines.ensureIndex({'billrun': 1 }, { unique: false, sparse: true, background: true});
db.lines.ensureIndex({'subscriber_id': 1 }, { unique: false, sparse: true, background: true });

db.billrun.ensureIndex({'account_id': 1 }, { unique: false, sparse: true, background: true});
db.billrun.ensureIndex({'stamp': 1 }, { unique: false, sparse: true, background: true});
db.lines.ensureIndex({'price_customer': 1, 'price_provider' : 1 }, { unique: false, sparse: true, background: true});
