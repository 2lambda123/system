[yaf]
;APPLICATION_PATH is the constant defined in index.php
application.directory=APPLICATION_PATH "/application"
application.library=APPLICATION_PATH "/library"

;product section inherit from yaf section
[product:yaf]
environment="test"
db.host=localhost
db.port=27017
db.user=
db.password=
db.name=billing

#log
log.timestampFormat="Y-m-d H:i:s"
log.debug.writerName="Stream"
log.debug.writerParams.stream=APPLICATION_PATH "/logs/debug.log"
log.debug.formatterName="Simple"
log.debug.formatterParams.format="%timestamp% %priorityName%: %message%" PHP_EOL
log.debug.filterName="Priority"
#0-min, 7-max (see Zend_Log constants)
log.debug.filterParams.priority=7

log.mongo.writerName='MongoDb'
log.mongo.writerParams.server = "mongodb://127.0.0.1:27017"
log.mongo.writerParams.database = "billing"
log.mongo.writerParams.collection = "issuesLog"
log.mongo.filterName="Priority"
log.mongo.filterParams.priority=5

log.email.writerName='Mail'
log.email.writerParams.subject = "issues with the billing system"
log.email.writerParams.from = "no-reply@golantelecom.net.il"
log.email.writerParams.to[] = "root"
log.email.writerParams.to[] = "eran"
log.email.filterName="Priority"
log.email.filterParams.priority=3

#log.email.notify[]='root'
#log.alerts.email.notify[]='eran'


#mailer
mailer.from.addresss='no-reply@golantelecom.net.il'
mailer.from.name='Billrun Mailer'



#billrun
billrun.charging_day=25

provider.rpc.server="gtgt.no-ip.org"

#plugins
plugins[]=nrtrdePlugin
plugins[]=ggsnPlugin
plugins[]=fraudAlertsPlugin
plugins[]=depositPlugin
plugins[]=ildsPlugin
plugins[]=nsnPlugin

#chains (chain of responsibility plugin system)
#chains[]=nrtrdePlugin
chains[]=nsnPlugin

#responder
response.export.path=APPLICATION_PATH "/export/"
response.workspace=APPLICATION_PATH "/workspace/"

#api available actions
api.actions.refund='controllers/Action/Refund.php'

#api output method
api.outputMethod[]=Zend_Json
api.outputMethod[]=encode
########################### Plugin settings #############################

#ILDS
012.receiver.type='relocate'
013.receiver.type='relocate'
014.receiver.type='relocate'
015.receiver.type='relocate'
018.receiver.type='relocate'
019.receiver.type='relocate'
012.backup_path[]=APPLICATION_PATH "/workspace/backups/ilds/012"
013.backup_path[]=APPLICATION_PATH "/workspace/backups/ilds/013"
014.backup_path[]=APPLICATION_PATH "/workspace/backups/ilds/014"
015.backup_path[]=APPLICATION_PATH "/workspace/backups/ilds/015"
018.backup_path[]=APPLICATION_PATH "/workspace/backups/ilds/018"
019.backup_path[]=APPLICATION_PATH "/workspace/backups/ilds/019"

ilds.receiver.receiving_path='/home/projects/encrypted/golan/receive/ilds'
ilds.export=APPLICATION_PATH "/files/"
ilds.workspace=APPLICATION_PATH "/workspace/"
ilds.billrun.config_path=APPLICATION_PATH "/conf/ilds/billrun.ini"
# 50 NIS
ilds.threshold=50

#ilds providers
ilds.providers[]=012
ilds.providers[]=013
ilds.providers[]=014
ilds.providers[]=015
ilds.providers[]=018
ilds.providers[]=019


#responder
response.export.path=APPLICATION_PATH "/export/"
response.workspace=APPLICATION_PATH "/workspace/"

#nrtrde
nrtrde.receiver.type="ftp"
nrtrde.ftp.host="205.140.6.188"
nrtrde.ftp.user="e132637"
nrtrde.ftp.password="05071030sc"
nrtrde.ftp.remote_directory="/outgoing/CSV/"
nrtrde.workspace=APPLICATION_PATH "/files/"
nrtrde.export=APPLICATION_PATH "/export/"
nrtrde.backup_path[]=APPLICATION_PATH "/workspace/backups/nrtrde/"
# 30 min
nrtrde.thresholds.moc.israel=1800
# 10 min
nrtrde.thresholds.moc.nonisrael=600
# 40 min
nrtrde.thresholds.mtc=2400
# no limit 
nrtrde.thresholds.smsin=0
# 70 sms
nrtrde.thresholds.smsout=70
#the time span for the hourly thresholds
nrtrde.hourly.timespan=1 hours
#50 sms in the hour timespan
nrtrde.hourly.thresholds.smsout=50
#50 minutes in the hourly time span
nrtrde.hourly.thresholds.mocnonisrael=3000

#ggsn
ggsn.receiver.type="ftp"
ggsn.filename_regex="/^GLT[A-Z]+_\-_/"
ggsn.workspace=APPLICATION_PATH "/workspace/ggsn/"

ggsn.ftp.host[hifa]="10.192.203.178"
ggsn.ftp.user[hifa]="cdr_file_user"
ggsn.ftp.password[hifa]="golan1"
ggsn.ftp.remote_directory[hifa]="/"
ggsn.ftp.host[petah]="10.224.235.178"
ggsn.ftp.user[petah]="cdr_file_user"
ggsn.ftp.password[petah]="golan1"
ggsn.ftp.remote_directory[petah]="/"

ggsn.receiver.max_missing_file_wait=3600
ggsn.backup_path[]=APPLICATION_PATH "/workspace/backups/ggsn"
ggsn.backup_path[]=APPLICATION_PATH "/workspace/nsoft/ggsn"

ggsn.fields_filter[]=served_imsi
ggsn.fields_filter[]=ggsn_address
ggsn.fields_filter[]=charging_id
ggsn.fields_filter[]=sgsn_address
ggsn.fields_filter[]=served_pdp_address
ggsn.fields_filter[]=record_opening_time
ggsn.fields_filter[]=duration
ggsn.fields_filter[]=node_id
ggsn.fields_filter[]=served_msisdn
ggsn.fields_filter[]=served_imeisv
ggsn.fields_filter[]=fbc_uplink_volume
ggsn.fields_filter[]=fbc_downlink_volume

# 40 mins
ggsn.thresholds.duration=2400
# 10 Mb in Kb
ggsn.thresholds.datalimit=10000
#the hourly timespan
ggsn.hourly.timespan=1 hours
# 150 Mb in Kb
ggsn.hourly.thresholds.datalimit=150000


nsn.receiver.type="ftp"
nsn.ftp.host="127.0.0.1"
nsn.ftp.user="ftp"
nsn.ftp.password="golan123"
nsn.ftp.remote_directory="/nsn/"


nsn.parser.type="external"
nsn.processor.type="blockedBinaryExternal"
nsn.workspace=APPLICATION_PATH "/workspace/nsn/"
nsn.config_path=APPLICATION_PATH "/conf/nsn/data_types.ini"
nsn.backup_path=APPLICATION_PATH "/workspace/backups/nsn"

nsn.fields_filter[]=record_type
nsn.fields_filter[]=record_number
nsn.fields_filter[]=record_status
nsn.fields_filter[]=exchange_id
nsn.fields_filter[]=call_reference
nsn.fields_filter[]=charging_start_time
nsn.fields_filter[]=charging_end_time
nsn.fields_filter[]=call_reference_time
nsn.fields_filter[]=duration
nsn.fields_filter[]=calling_number
nsn.fields_filter[]=called_number
nsn.fields_filter[]=call_type
nsn.fields_filter[]=ticket_type
nsn.fields_filter[]=chrg_type
nsn.fields_filter[]=called_imsi
nsn.fields_filter[]=calling_imsi

#016 thresholds
nsn.thresholds.daily_voice=3600
nsn.thresholds.monthly_voice=36000


#deposit plugin
deposit.hourly.timespan=2 hours
deposit.hourly.thresholds.deposits=3

fraudAlerts.alert.host="10.162.20.53"
fraudAlerts.alert.path="/dev/dev/rpc/fraud_events.rpc.php"
fraudAlerts.alert.key="eran"
