<?php // var_dump($this);die;       ?>
<div class="container component">
	<h1><?php echo $this->title; ?></h1>
	<?php
	if (isset($this->data) && $this->data instanceof Mongodloid_Cursor) :
		print '<table class="table table-striped table-bordered">';
		print '<thead><tr><th>#</th>';
		foreach ($this->columns as $h) {
			print '<th>' . $h . '</th>';
		}
		print '</tr></thead><tbody>';

		$c = $this->offset;
		foreach ($this->data as $item) {
			print '<tr>';
			print '<td><label class="checkbox">#' . ($c+1) . '&nbsp;<input value="" type="checkbox" id="chk' . $c++ . '"/></label></td>';
			foreach ($this->columns as $h) {
				$data = $item->get($h);
				print '<td>';
				if (($h == 'from' || $h == 'to') && $data) {
					// TODO: move he_IL to config
					$d = new Zend_Date($data->sec, null, new Zend_Locale('he_IL'));
					echo $d->getIso();
				} else {
					print $data;
				}
				print '</td>';
			}
			print '</tr>';
		}
		print '</tbody></table>';

		// print pagination
		echo $this->pagination;
		echo $this->sizeList;
		?>
		
			<?php
	else :
		print "No data";
	endif;
	?>
</div>